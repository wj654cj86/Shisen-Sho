<!DOCTYPE html>
<html>

<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
	<meta charset="UTF-8">
	<title>四川戰記</title>
	<link rel="icon">
	<style>
		body {
			opacity: 0;
			background-color: #000;
			color: #fff;
		}

		iframe {
			position: absolute;
			left: 50%;
			top: 50%;
			transform-origin: 0px 0px;
			transform: scale(var(--fm));
			margin-left: calc(var(--fm) * var(--w) / -2 * 1px);
			margin-top: calc(var(--fm) * var(--h) / -2 * 1px);
			width: calc(var(--w) * 1px);
			height: calc(var(--h) * 1px);
		}
	</style>
	<script src="mylibrary.js"></script>
	<script>
		let w = 1140, h = 920;
		let mx = 5, mn = 0.5, 單位 = 0.5;
		function setfoundation() {
			let fm = Math.min(window.innerWidth / w, window.innerHeight / h, mx);
			fm = Math.max(fm, mn);
			fm = Math.floor(fm / 單位) * 單位;
			document.body.style.setProperty('--fm', fm);
		}
		window.onload = function () {
			if (navigator.userAgent.search(/Mobi|Android|iPhone/i) != -1) mx = 5, mn = 0.25, 單位 = 0.01;
			game.style.setProperty('--w', w);
			game.style.setProperty('--h', h);
			document.body.onresize = setfoundation;
			setfoundation();
			game.focus();
			window.onmousedown = () => game.focus();
			window.onmouseup = () => game.focus();
			window.onclick = () => game.focus();
		};
	</script>
</head>

<body>
	<iframe id="game" src="main.html" frameborder="no" scrolling='no'></iframe>
</body>

</html>